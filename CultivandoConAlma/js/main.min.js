let splash,iniciarsesion,recuperar,registro,inicio,ajuste,editperfil,notificacion,detallenoti,analisis,detallestat,productos,pago,secciones,botonIngresar,botonRegistrar,botonContraseña,botonRecuperar,botonRegistrarse,botonEditar,botonCerrar,botonGuardar,botonAtrasNoti,botonSiguienteNoti,botonDetalleStat,botonAñadir,botonCarro,botonPagar,botonsLogin,botonsAnalisis,botonsNoti,botonsInicio,botonsCompras,botonsAjuste,userL_txt,passwL_txt,nameR_txt,emailR_txt,userR_txt,passwR_txt,nameE_txt,emailE_txt,userE_txt,passwE_txt,confirpasswE_txt;function crearReferencias(){splash=document.getElementById("splash"),iniciarsesion=document.getElementById("iniciarsesion"),recuperar=document.getElementById("recuperar"),registro=document.getElementById("registro"),inicio=document.getElementById("inicio"),ajuste=document.getElementById("ajuste"),editperfil=document.getElementById("editperfil"),notificacion=document.getElementById("notificacion"),detallenoti=document.getElementById("detalle-noti"),analisis=document.getElementById("analisis"),detallestat=document.getElementById("detalle-stat"),productos=document.getElementById("productos"),pago=document.getElementById("pago"),secciones=[splash,iniciarsesion,recuperar,registro,inicio,ajuste,editperfil,notificacion,detallenoti,analisis,detallestat,productos,pago],botonIngresar=document.getElementById("botonIngresar"),botonRegistrar=document.getElementById("botonRegistrar"),botonContraseña=document.getElementById("botonContraseña"),botonRecuperar=document.getElementById("botonRecuperar"),botonRegistrarse=document.getElementById("botonRegistrarse"),botonEditar=document.getElementById("botonEditar"),botonCerrar=document.getElementById("botonCerrar"),botonGuardar=document.getElementById("botonGuardar"),botonAtrasNoti=document.getElementById("botonAtrasNoti"),botonSiguienteNoti=document.getElementById("botonSiguienteNoti"),botonDetalleStat=document.getElementById("botonDetalleStat"),botonAñadir=document.getElementById("botonAñadir"),botonCarro=document.getElementById("botonCarro"),botonPagar=document.getElementById("botonPagar"),botonsLogin=document.querySelectorAll(".botonsLogin"),botonsAnalisis=document.querySelectorAll(".botonsAnalisis"),botonsNoti=document.querySelectorAll(".botonsNoti"),botonsInicio=document.querySelectorAll(".botonsInicio"),botonsCompras=document.querySelectorAll(".botonsCompras"),botonsAjuste=document.querySelectorAll(".botonsAjuste")}function crearEventos(){botonRegistrar.addEventListener("click",irRegistro),botonContraseña.addEventListener("click",irRecuperar),botonRecuperar.addEventListener("click",irIniciarSesion),botonEditar.addEventListener("click",irEditarPerfil),botonCerrar.addEventListener("click",irIniciarSesion),botonDetalleStat.addEventListener("click",irDetalleStat),botonCarro.addEventListener("click",irPagos),botonPagar.addEventListener("click",irProducto);for(var e=0;e<=1;e++)botonsLogin[e].addEventListener("click",irIniciarSesion);for(e=0;e<=8;e++)botonsAnalisis[e].addEventListener("click",irAnalisis),botonsNoti[e].addEventListener("click",irNoti),botonsCompras[e].addEventListener("click",irCompras),botonsAjuste[e].addEventListener("click",irAjuste);for(e=0;e<=11;e++)botonsInicio[e].addEventListener("click",irInicio)}function ocultarSecciones(){for(i in secciones)secciones[i].classList.add("ocultar")}function irIniciarSesion(){ocultarSecciones(),iniciarsesion.classList.remove("ocultar")}function irInicio(e){null!=e&&e.preventDefault(),ocultarSecciones(),inicio.classList.remove("ocultar")}function irRegistro(e){e.preventDefault(),ocultarSecciones(),registro.classList.remove("ocultar")}function irRecuperar(e){e.preventDefault(),ocultarSecciones(),recuperar.classList.remove("ocultar")}function irEditarPerfil(e){e.preventDefault(),ocultarSecciones(),editperfil.classList.remove("ocultar")}function irAjuste(e){null!=e&&e.preventDefault(),ocultarSecciones(),ajuste.classList.remove("ocultar")}function irDetalleAlert(){cargarDetalleAlert(parseInt(this.name)-1),ocultarSecciones(),detallenoti.classList.remove("ocultar")}function irDetalleStat(e){e.preventDefault(),ocultarSecciones(),detallestat.classList.remove("ocultar")}function irPagos(e){e.preventDefault(),ocultarSecciones(),pago.classList.remove("ocultar")}function irProducto(e){e.preventDefault(),ocultarSecciones(),productos.classList.remove("ocultar")}function irAnalisis(e){e.preventDefault(),ocultarSecciones(),analisis.classList.remove("ocultar")}function irNoti(e){e.preventDefault(),ocultarSecciones(),notificacion.classList.remove("ocultar")}function irCompras(e){e.preventDefault(),ocultarSecciones(),productos.classList.remove("ocultar")}window.onload=()=>{crearReferencias(),setTimeout(irIniciarSesion,1500),crearEventos(),initPersistencia()};let usuarios=[],current={};function initPersistencia(){usuarios=null==JSON.parse(localStorage.getItem("usuarios"))?usuarios=[]:JSON.parse(localStorage.getItem("usuarios")),initRegistro(),initLogin(),initEditar(),initAlerts()}function initRegistro(){nameR_txt=document.getElementById("nombreR"),emailR_txt=document.getElementById("emailR"),userR_txt=document.getElementById("userR"),passwR_txt=document.getElementById("passwR"),botonRegistrarse.addEventListener("click",registrar)}function registrar(){if(""==nameR_txt.value||""==emailR_txt.value||""==userR_txt.value||""==passwR_txt.value)return alert("Debe llenar todos los campos"),!1;var e={};for(var t in e.name=nameR_txt.value,e.email=emailR_txt.value,e.user=userR_txt.value,e.passw=passwR_txt.value,e.alerts=null,e.products=null,usuarios)if(usuarios[t].user==userR_txt.value)return alert("Ya existe ese nombre de usuario"),!1;usuarios.push(e),current=e,localStorage.setItem("usuarios",JSON.stringify(usuarios)),adecuarCampos(e),irInicio()}function adecuarCampos(e){nameR_txt.value="",emailR_txt.value="",userR_txt.value="",passwR_txt.value="",userL_txt.value=e.user,passwL_txt.value="",nameE_txt.value=e.name,emailE_txt.value=e.email,userE_txt.value=e.user,passwE_txt.value=e.passw,cargarAlerts()}function initLogin(){userL_txt=document.getElementById("user"),passwL_txt=document.getElementById("passw"),botonIngresar.addEventListener("click",iniciarSesion)}function iniciarSesion(){if(""==userL_txt.value||""==passwL_txt.value)return alert("Ingrese usuario y contraseña"),!1;for(var e in usuarios)if(usuarios[e].user==userL_txt.value&&usuarios[e].passw==passwL_txt.value)return current=usuarios[e],adecuarCampos(usuarios[e]),irInicio(),!0;alert("Usuario y/o contraseña incorrectos")}function initEditar(){nameE_txt=document.getElementById("nombreE"),emailE_txt=document.getElementById("emailE"),userE_txt=document.getElementById("userE"),passwE_txt=document.getElementById("passwE"),confirpasswE_txt=document.getElementById("passwconfE"),botonGuardar.addEventListener("click",editarDatos)}function editarDatos(){if(""==nameE_txt.value||""==emailE_txt.value||""==userE_txt.value||""==passwE_txt.value||""==confirpasswE_txt.value)return alert("Debe llenar todos los campos"),!1;if(passwE_txt.value!=confirpasswE_txt.value)return alert("Las contraseñas no coinciden"),!1;for(var e in current.name=nameE_txt.value,current.email=emailE_txt.value,current.user=userE_txt.value,current.passw=passwE_txt.value,usuarios)if(usuarios[e].user==current.user)return usuarios[e]=current,adecuarCampos(current),localStorage.setItem("usuarios",JSON.stringify(usuarios)),irAjuste(),!0}let listAlerts,detalleAlert,alerts=[],botonsDetalleAlert=[];function initAlerts(){alerts=[{id:1,img:"img/regar_notificacion.svg",titulo:"Regar área 1",desc:"Recuerde regar su cultivo en los horas de la tarde",fecha:"Mar. 12, 2021 &#8212; hace 5m",detalle:{imgs:["img/regar_imagen1.jfif","img/regar_imagen2.jfif","img/regar_imagen3.jfif"],desc:"Intenta no mojar demasiado las partes aéreas de las plantas ya que el exceso de humedad en las flores y tallos puede propiciar que aparezcan hongos y otras plagas."}},{id:2,img:"img/analisis_notificaccion.svg",titulo:"Analisis área 3",desc:"Ya puede consultar el analisis del área 3",fecha:"Mar. 11, 2021 &#8212; hace 1 dia",detalle:{imgs:["img/regar_imagen1.jfif"],desc:"Descripcion."}},{id:3,img:"img/podar_notificacion.svg",titulo:"Podar área 2",desc:"Recuerde podar su cultivo",fecha:"Mar. 11, 2021 — hace 1 dia",detalle:{imgs:["img/regar_imagen1.jfif","img/regar_imagen2.jfif"],desc:"Descripcion."}},{id:4,img:"img/cosechar_notificacion.svg",titulo:"Cosecha Proxima",desc:"Su cultivo en el área 2 estara listo el proximo sabado",fecha:"Mar. 11, 2021 &#8212; hace 1 dia",detalle:{imgs:["img/regar_imagen1.jfif","img/regar_imagen2.jfif","img/regar_imagen3.jfif"],desc:"Descripcion."}},{id:5,img:"img/analisis_notificaccion.svg",titulo:"Analisis área 2",desc:"Ya puede consultar el analisis del área 2",fecha:"Mar. 10, 2021 &#8212; hace 2 dias",detalle:{imgs:["img/regar_imagen1.jfif"],desc:"Descripcion."}},{id:6,img:"img/abonar_notificacion.svg",titulo:"Abonar área 3",desc:"Recuerde Abonar el area 3",fecha:"Mar. 10, 2021 &#8212; hace 2 dias",detalle:{imgs:["img/regar_imagen1.jfif","img/regar_imagen2.jfif","img/regar_imagen3.jfif"],desc:"Descripcion."}},{id:7,img:"img/analisis_notificaccion.svg",titulo:"Analisis área 4",desc:"Ya puede consultar el analisis del área 4",fecha:"Mar. 10, 2021 &#8212; hace 2 dias",detalle:{imgs:["img/regar_imagen1.jfif"],desc:"Descripcion."}}],listAlerts=document.getElementById("listAlerts"),detalleAlert=document.getElementById("detalleAlert")}function cargarAlerts(){var e="";for(var t in alerts)e+='<figure class="fir-image-figure">',e+='<a class="fir-imageover" id="botonDetalleAlert_'+alerts[t].id+'" name="'+alerts[t].id+'">',e+='<img class="fir-author-image fir-image" src="'+alerts[t].img+'">',e+='<figcaption><div class="fig-title">'+alerts[t].titulo+"</div>",e+='<div class="fig-subtitle">'+alerts[t].desc+"</div>",e+='<div class="fig-details">'+alerts[t].fecha+"</div></figcaption></a></figure>";for(var t in listAlerts.innerHTML=e,botonsDetalleAlert=[],alerts)botonsDetalleAlert.push(document.getElementById("botonDetalleAlert_"+alerts[t].id)),botonsDetalleAlert[t].addEventListener("click",irDetalleAlert)}function cargarDetalleAlert(e){var t,a="<h2>"+alerts[e].titulo+'</h2> <div class="card"> <div class="card_imgs" role="slider">',i="",r="",s="",o="";for(t in alerts[e].detalle.imgs)i+='<input type="radio" id="s-'+(Number(t)+Number(1))+'" name="slider-control" ',i+=0==t?"checked>":">",r+='<li class="s-item s-item-'+(Number(t)+Number(1))+'" style="background-image: url('+alerts[e].detalle.imgs[t]+');"></li>',s+=1!=alerts[e].detalle.imgs.length?'<label class="s-c-'+(Number(t)+Number(1))+'" for="s-'+(t+1)+'"></label>':"",1==alerts[e].detalle.imgs.length&&Number(t)+Number(1)==alerts[e].detalle.imgs.length||(o+='<label class="s-nav-'+(Number(t)+Number(1))+' right" for="s-'+(Number(t)+Number(2))+'"></label>',o+='<label class="s-nav-'+(Number(t)+Number(2))+' left" for="s-'+(Number(t)+Number(1))+'"></label>');for(;t<3;t++)r+='<li class="s-item s-item-'+(Number(t)+Number(1))+'" style="background-image: url('+alerts[e].detalle.imgs[0]+');"></li>';a+=i+'<ul class="s-content">'+r+'</ul><div class="s-control">'+s+'</div><div class="s-nav">'+o+"</div></div>",a+='<div class="card_details"><p>'+alerts[e].detalle.desc+"</p></div></div>",detalleAlert.innerHTML=a}